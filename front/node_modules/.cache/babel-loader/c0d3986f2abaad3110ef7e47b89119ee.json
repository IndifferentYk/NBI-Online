{"ast":null,"code":"export default {\n  name: \"P_UserCenter\",\n\n  data() {\n    return {\n      headerIconSrc: \"\",\n      // /static/img/normalUser.png /static/img/superUser.png\n      name: \"\",\n      isLogin: false\n    };\n  },\n\n  mounted() {\n    this.$bus.$on('getLoginStatus', data => {\n      this.isLogin = data.isLogin;\n      console.log(this.isLogin);\n    });\n    this.checkLoginStatus();\n    this.getUserCenterInfo();\n  },\n\n  beforeDestroy() {\n    this.$bus.$off('getLoginStatus');\n  },\n\n  methods: {\n    checkLoginStatus() {\n      this.$bus.$emit('sendLoginStatusToUserCenter');\n    },\n\n    getCookie(objName) {\n      //获取指定名称的cookie的值\n      const arrStr = document.cookie.split(\"; \");\n\n      for (let i = 0; i < arrStr.length; i++) {\n        const temp = arrStr[i].split(\"=\");\n        if (temp[0] === objName) return temp[1];\n      }\n\n      return null;\n    },\n\n    getToken() {\n      return this.getCookie(\"NBI_token\");\n    },\n\n    getUID() {\n      return this.getCookie(\"NBI_UID\");\n    },\n\n    getUserCenterInfo() {\n      let getUserInfoForm = new FormData();\n      getUserInfoForm.append(\"token\", this.getToken());\n      getUserInfoForm.append(\"uid\", this.getUID());\n      let config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      this.$axios.post(\"/NBI/User/getUserInfo/\", getUserInfoForm, config).then(response => {\n        console.log(response);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAaA;EACAA,oBADA;;EAEAC;IACA;MACAC,iBADA;MACA;MACAF,QAFA;MAGAG;IAHA;EAKA,CARA;;EASAC;IACA;MACA;MACAC;IACA,CAHA;IAIA;IACA;EACA,CAhBA;;EAiBAC;IACA;EACA,CAnBA;;EAoBAC;IACAC;MACA;IACA,CAHA;;IAIAC;MAAA;MACA;;MACA;QACA;QACA;MACA;;MACA;IACA,CAXA;;IAYAC;MACA;IACA,CAdA;;IAeAC;MACA;IACA,CAjBA;;IAkBAC;MACA;MACAC;MACAA;MACA;QACAC;UAAA;QAAA;MADA;MAGA;QACAT;MACA,CAFA;IAGA;;EA5BA;AApBA","names":["name","data","headerIconSrc","isLogin","mounted","console","beforeDestroy","methods","checkLoginStatus","getCookie","getToken","getUID","getUserCenterInfo","getUserInfoForm","headers"],"sourceRoot":"src/components/userCenterPage","sources":["UserCenter.vue"],"sourcesContent":["<template>\n  <div id=\"userCenterPageContainer\">\n    <div id=\"userCenterInner\">\n      <div id=\"userCenterHeader\">\n        <div style=\"width: 25%;height: 100%;display: flex;justify-content: center;align-items: center;\">\n          <img :src=\"headerIconSrc\" id=\"userCenterHeader_icon\" alt=\"加载失败\">\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"P_UserCenter\",\n  data(){\n    return {\n      headerIconSrc: \"\", // /static/img/normalUser.png /static/img/superUser.png\n      name: \"\",\n      isLogin: false,\n    }\n  },\n  mounted() {\n    this.$bus.$on('getLoginStatus', (data)=>{\n      this.isLogin = data.isLogin;\n      console.log(this.isLogin)\n    });\n    this.checkLoginStatus();\n    this.getUserCenterInfo();\n  },\n  beforeDestroy() {\n    this.$bus.$off('getLoginStatus')\n  },\n  methods:{\n    checkLoginStatus(){\n      this.$bus.$emit('sendLoginStatusToUserCenter')\n    },\n    getCookie(objName){//获取指定名称的cookie的值\n      const arrStr = document.cookie.split(\"; \");\n      for(let i = 0; i < arrStr.length; i ++){\n        const temp = arrStr[i].split(\"=\");\n        if(temp[0] === objName) return temp[1];\n      }\n      return null;\n    },\n    getToken(){\n      return this.getCookie(\"NBI_token\");\n    },\n    getUID(){\n      return this.getCookie(\"NBI_UID\");\n    },\n    getUserCenterInfo(){\n      let getUserInfoForm = new FormData();\n      getUserInfoForm.append(\"token\", this.getToken());\n      getUserInfoForm.append(\"uid\", this.getUID());\n      let config = {\n         headers: {'Content-Type': 'multipart/form-data'}\n      };\n      this.$axios.post(\"/NBI/User/getUserInfo/\",getUserInfoForm, config).then((response)=>{\n        console.log(response);\n      })\n    }\n  },\n}\n</script>\n\n<style scoped>\n#userCenterPageContainer{\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#userCenterInner{\n  width: 75%;\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n#userCenterHeader{\n  height: 20%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #07004f;\n}\n#userCenterHeader_icon{\n  width: 60%;\n}\n</style>"]},"metadata":{},"sourceType":"module"}